.. _intro:

********
Описание
********
**Justify** - это фреймворк для разработки браузерных IPTV/OTT-приложений для устройств типа Set-Top Box и Smart TV, состоящий из 2-х принципиальных частей:

- *engine* - пакет приложений, осуществляющий общение с backendом, с API устройств просмотра, а также содержащий объявления и описания глобальных сущностей и классов комплекса;
- *templates* - шаблоны интерфейса приложения, различающиеся не только внешним стилевым оформлением, но и  функциональными возможностями. Каждый из них включает в себя набор экранов, наборы css-файлов и картинок, файл инициализации шаблона, а также переопределения некоторых глобальных сущностей и классов, описанных в *engine*.

Одна из главных целей, которой придерживались разработчики и архитекторы при создании justify - это создание максимально **кастомизируемого** и **расширямого** решения. Поэтому структура описываемого комплекса содержит в себе всевозможные наследования и переопределения, сохраняя при этом максимальную читаемость и прозрачность кода, исключая при этом излишний синтаксический сахар. Данные принципы помогли сделать фреймворк доступным для использования разработчиками любого уровня и квалификации.

Также кастомизация приложения происходит засчёт клиентских настроек, описываемых во внешнем файле **client.js**, все возможные поля и значения которого будут представлены ниже.

Хотя изначально justify создавался как интерфейсная часть к smarty (серверной части Microimpuls Middleware), его архитектура также позволяет общаться и с **другими backend-ами** (механизм подключения и работы со сторонним backendом описан ниже).

Также особенностью описываемого решения является практически полное **отсутствие сторонних библиотек**, что было сделано для **оптимизации** работы приложения на низкопроизводительных устройствах (по этой же причине в приложении применяется ряд других оптимизаций, связанных не только с js-функционалом, но и html-элементами).

**********************************
Термины, используемые в приложении
**********************************

**Устройство просмотра** - Set-Top Box или Smart TV, уже адаптированный для Justify и, соответственно, имеющий JS API (приставки: amino, dune, eltex, mag, tvip, sagemcom, wrt, gdc и все приставки под ОС Android; smart TV: Samsung Smart TV (Webkit и Tizen), LG (Webos и Netcast); electron).

**Шаблон** - одно из уже созданных приложений на основе engine. Данные приложения могут иметь отличную от Microimpuls Middleware серверную часть, различную логику и оформление (``classic``, ``cti``, ``focus``, ``impuls``, ``iridium``, ``orbit``).

**Пользовательские настройки** - данные, которые сохраняются в куках устройства и которые имеет возможность изменять конечный пользователь приложения (данные авторизации, часовой пояс, уровень звука, размер буферизации, язык, стиль оформления и т.д.). Набор этих настроек также зависит от конкретного шаблона и от *клиентских настроек*.

**Клиентские настройки** - настройки, прописываемые в файле client.js, они же clientSettings. Каждый оператор имеет свой client.js и с помощью него настраивает нужную конфигурацию своего сервиса. Также в этом файле прописывается адрес серверной части и данные авторизации в Middleware (api key, api url).

**Настройки портала** - имеют место только для шаблонов, использующих Microimpuls Middleware (portalSettings). В их число входят: кастомный css-файл, лого оператора, разделы, показываемые в главном меню и т.д. Конфигурируется всё это с помощью панели администратора, настройки динамически подгружаются при каждом новом запуске приложения.

**Экран** - экран приложения, представляет собой совокупность списков, кнопок, блоков подсказок и т.д. Является структурной единицей приложения, наследуется от класса BaseScreen.

**Меню** - список каких-либо элементов, включающий в себя функционал по инициализации списка, переключению между его элементами, логику скрытия пустых элементов, перемотки и т.д. Список может иметь как 1 колонку, так и несколько, таким образом, это максимально кастомизируемая сущность, возможности которой будут описаны ниже.